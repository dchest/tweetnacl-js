!function(r){"use strict";function n(r,n){var e,t;if("undefined"!=typeof window&&window.crypto)e=new Uint8Array(n),window.crypto.getRandomValues(e);else if("undefined"!=typeof window&&window.msCrypto)e=new Uint8Array(n),window.msCrypto.getRandomValues(e);else{if("undefined"==typeof require)throw new Error("no PRNG");t=require("crypto"),e=t?t.randomBytes(n):null}if(!e||e.length!==n)throw new Error("PRNG failed");for(var o=0;o<e.length;o++)r[o]=e[o]}function e(r,n){return r<<n|r>>>32-n}function t(r,n){var e=255&r[n+3];return e=e<<8|255&r[n+2],e=e<<8|255&r[n+1],e<<8|255&r[n+0]}function o(r,n){var e=r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3],t=r[n+4]<<24|r[n+5]<<16|r[n+6]<<8|r[n+7];return new sn(e,t)}function i(r,n,e){var t;for(t=0;4>t;t++)r[n+t]=255&e,e>>>=8}function a(r,n,e){r[n]=e.hi>>24&255,r[n+1]=e.hi>>16&255,r[n+2]=e.hi>>8&255,r[n+3]=255&e.hi,r[n+4]=e.lo>>24&255,r[n+5]=e.lo>>16&255,r[n+6]=e.lo>>8&255,r[n+7]=255&e.lo}function f(r,n,e,t,o){var i,a=0;for(i=0;o>i;i++)a|=r[n+i]^e[t+i];return(1&a-1>>>8)-1}function w(r,n,e,t){return f(r,n,e,t,16)}function u(r,n,e,t){return f(r,n,e,t,32)}function c(r,n,o,a,f){var w,u,c,y=new Uint32Array(16),l=new Uint32Array(16),h=new Uint32Array(16),s=new Uint32Array(4);for(w=0;4>w;w++)l[5*w]=t(a,4*w),l[1+w]=t(o,4*w),l[6+w]=t(n,4*w),l[11+w]=t(o,16+4*w);for(w=0;16>w;w++)h[w]=l[w];for(w=0;20>w;w++){for(u=0;4>u;u++){for(c=0;4>c;c++)s[c]=l[(5*u+4*c)%16];for(s[1]^=e(s[0]+s[3]|0,7),s[2]^=e(s[1]+s[0]|0,9),s[3]^=e(s[2]+s[1]|0,13),s[0]^=e(s[3]+s[2]|0,18),c=0;4>c;c++)y[4*u+(u+c)%4]=s[c]}for(c=0;16>c;c++)l[c]=y[c]}if(f){for(w=0;16>w;w++)l[w]=l[w]+h[w]|0;for(w=0;4>w;w++)l[5*w]=l[5*w]-t(a,4*w)|0,l[6+w]=l[6+w]-t(n,4*w)|0;for(w=0;4>w;w++)i(r,4*w,l[5*w]),i(r,16+4*w,l[6+w])}else for(w=0;16>w;w++)i(r,4*w,l[w]+h[w]|0)}function y(r,n,e,t){return c(r,n,e,t,!1),0}function l(r,n,e,t){return c(r,n,e,t,!0),0}function h(r,n,e,t,o,i,a){var f,w,u=new Uint8Array(16),c=new Uint8Array(64);if(!o)return 0;for(w=0;16>w;w++)u[w]=0;for(w=0;8>w;w++)u[w]=i[w];for(;o>=64;){for(y(c,u,a,Bn),w=0;64>w;w++)r[n+w]=(e?e[t+w]:0)^c[w];for(f=1,w=8;16>w;w++)f=f+(255&u[w])|0,u[w]=255&f,f>>>=8;o-=64,n+=64,e&&(t+=64)}if(o>0)for(y(c,u,a,Bn),w=0;o>w;w++)r[n+w]=(e?e[t+w]:0)^c[w];return 0}function s(r,n,e,t,o){return h(r,n,null,0,e,t,o)}function g(r,n,e,t,o){var i=new Uint8Array(32);return l(i,t,o,Bn),s(r,n,e,t.subarray(16),i)}function b(r,n,e,t,o,i,a){var f=new Uint8Array(32);return l(f,i,a,Bn),h(r,n,e,t,o,i.subarray(16),f)}function v(r,n){var e,t=0;for(e=0;17>e;e++)t=t+(r[e]+n[e]|0)|0,r[e]=255&t,t>>>=8}function p(r,n,e,t,o,i){var a,f,w,u,c=new Uint32Array(17),y=new Uint32Array(17),l=new Uint32Array(17),h=new Uint32Array(17),s=new Uint32Array(17);for(w=0;17>w;w++)y[w]=l[w]=0;for(w=0;16>w;w++)y[w]=i[w];for(y[3]&=15,y[4]&=252,y[7]&=15,y[8]&=252,y[11]&=15,y[12]&=252,y[15]&=15;o>0;){for(w=0;17>w;w++)h[w]=0;for(w=0;16>w&&o>w;++w)h[w]=e[t+w];for(h[w]=1,t+=w,o-=w,v(l,h),f=0;17>f;f++)for(c[f]=0,w=0;17>w;w++)c[f]=c[f]+l[w]*(f>=w?y[f-w]:320*y[f+17-w]|0)|0|0;for(f=0;17>f;f++)l[f]=c[f];for(u=0,w=0;16>w;w++)u=u+l[w]|0,l[w]=255&u,u>>>=8;for(u=u+l[16]|0,l[16]=3&u,u=5*(u>>>2)|0,w=0;16>w;w++)u=u+l[w]|0,l[w]=255&u,u>>>=8;u=u+l[16]|0,l[16]=u}for(w=0;17>w;w++)s[w]=l[w];for(v(l,Sn),a=0|-(l[16]>>>7),w=0;17>w;w++)l[w]^=a&(s[w]^l[w]);for(w=0;16>w;w++)h[w]=i[w+16];for(h[16]=0,v(l,h),w=0;16>w;w++)r[n+w]=l[w];return 0}function A(r,n,e,t,o,i){var a=new Uint8Array(16);return p(a,0,e,t,o,i),w(r,n,a,0)}function _(r,n,e,t,o){var i;if(32>e)throw new Error("d < 32");for(b(r,0,n,0,e,t,o),p(r,16,r,32,e-32,r),i=0;16>i;i++)r[i]=0;return 0}function U(r,n,e,t,o){var i,a=new Uint8Array(32);if(32>e)return-1;if(g(a,0,32,t,o),0!==A(n,16,n,32,e-32,a))return-1;for(b(r,0,n,0,e,t,o),i=0;32>i;i++)r[i]=0;return 0}function d(r,n){var e;for(e=0;16>e;e++)r[e]=0|n[e]}function E(r){var n,e;for(e=0;16>e;e++)r[e]+=65536,n=Math.floor(r[e]/65536),r[(e+1)*(15>e?1:0)]+=n-1+37*(n-1)*(15===e?1:0),r[e]-=65536*n}function x(r,n,e){for(var t,o=~(e-1),i=0;16>i;i++)t=o&(r[i]^n[i]),r[i]^=t,n[i]^=t}function m(r,n){var e,t,o,i=new gn,a=new gn;for(e=0;16>e;e++)a[e]=n[e];for(E(a),E(a),E(a),t=0;2>t;t++){for(i[0]=a[0]-65517,e=1;15>e;e++)i[e]=a[e]-65535-(i[e-1]>>16&1),i[e-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,x(a,i,1-o)}for(e=0;16>e;e++)r[2*e]=255&a[e],r[2*e+1]=a[e]>>8}function B(r,n){var e=new Uint8Array(32),t=new Uint8Array(32);return m(e,r),m(t,n),u(e,0,t,0)}function S(r){var n=new Uint8Array(32);return m(n,r),1&n[0]}function T(r,n){var e;for(e=0;16>e;e++)r[e]=n[2*e]+(n[2*e+1]<<8);r[15]&=32767}function Y(r,n,e){var t;for(t=0;16>t;t++)r[t]=n[t]+e[t]|0}function K(r,n,e){var t;for(t=0;16>t;t++)r[t]=n[t]-e[t]|0}function L(r,n,e){var t,o,i=new Float64Array(31);for(t=0;31>t;t++)i[t]=0;for(t=0;16>t;t++)for(o=0;16>o;o++)i[t+o]+=n[t]*e[o];for(t=0;15>t;t++)i[t]+=38*i[t+16];for(t=0;16>t;t++)r[t]=i[t];E(r),E(r)}function C(r,n){L(r,n,n)}function k(r,n){var e,t=new gn;for(e=0;16>e;e++)t[e]=n[e];for(e=253;e>=0;e--)C(t,t),2!==e&&4!==e&&L(t,t,n);for(e=0;16>e;e++)r[e]=t[e]}function R(r,n){var e,t=new gn;for(e=0;16>e;e++)t[e]=n[e];for(e=250;e>=0;e--)C(t,t),1!==e&&L(t,t,n);for(e=0;16>e;e++)r[e]=t[e]}function z(r,n,e){var t,o,i=new Uint8Array(32),a=new Float64Array(80),f=new gn,w=new gn,u=new gn,c=new gn,y=new gn,l=new gn;for(o=0;31>o;o++)i[o]=n[o];for(i[31]=127&n[31]|64,i[0]&=248,T(a,e),o=0;16>o;o++)w[o]=a[o],c[o]=f[o]=u[o]=0;for(f[0]=c[0]=1,o=254;o>=0;--o)t=i[o>>>3]>>>(7&o)&1,x(f,w,t),x(u,c,t),Y(y,f,u),K(f,f,u),Y(u,w,c),K(w,w,c),C(c,y),C(l,f),L(f,u,f),L(u,w,y),Y(y,f,u),K(f,f,u),C(w,f),K(u,c,l),L(f,u,_n),Y(f,f,c),L(u,u,f),L(f,c,l),L(c,w,a),C(w,y),x(f,w,t),x(u,c,t);for(o=0;16>o;o++)a[o+16]=f[o],a[o+32]=u[o],a[o+48]=w[o],a[o+64]=c[o];var h=a.subarray(32),s=a.subarray(16);return k(h,h),L(s,s,h),m(r,s),0}function F(r,n){return z(r,n,vn)}function O(r,e){return n(e,32),F(r,e)}function P(r,n,e){var t=new Uint8Array(32);return z(t,e,n),l(r,bn,t,Bn)}function N(r,n,e,t,o,i){var a=new Uint8Array(32);return P(a,o,i),Tn(r,n,e,t,a)}function M(r,n,e,t,o,i){var a=new Uint8Array(32);return P(a,o,i),Yn(r,n,e,t,a)}function I(){var r,n,e,t=0,o=0,i=0,a=0,f=65535;for(e=0;e<arguments.length;e++)r=arguments[e].lo,n=arguments[e].hi,t+=r&f,o+=r>>>16,i+=n&f,a+=n>>>16;return o+=t>>>16,i+=o>>>16,a+=i>>>16,new sn(i&f|a<<16,t&f|o<<16)}function Z(r,n){return new sn(r.hi>>>n,r.lo>>>n|r.hi<<32-n)}function j(){var r,n=0,e=0;for(r=0;r<arguments.length;r++)n^=arguments[r].lo,e^=arguments[r].hi;return new sn(e,n)}function q(r,n){var e,t,o=32-n;return 32>n?(e=r.hi>>>n|r.lo<<o,t=r.lo>>>n|r.hi<<o):64>n&&(e=r.lo>>>n|r.hi<<o,t=r.hi>>>n|r.lo<<o),new sn(e,t)}function G(r,n,e){var t=r.hi&n.hi^~r.hi&e.hi,o=r.lo&n.lo^~r.lo&e.lo;return new sn(t,o)}function V(r,n,e){var t=r.hi&n.hi^r.hi&e.hi^n.hi&e.hi,o=r.lo&n.lo^r.lo&e.lo^n.lo&e.lo;return new sn(t,o)}function X(r){return j(q(r,28),q(r,34),q(r,39))}function D(r){return j(q(r,14),q(r,18),q(r,41))}function H(r){return j(q(r,1),q(r,8),Z(r,7))}function J(r){return j(q(r,19),q(r,61),Z(r,6))}function Q(r,n,e){var t,i,f,w=[],u=[],c=[],y=[];for(i=0;8>i;i++)w[i]=c[i]=o(r,8*i);for(var l=0;e>=128;){for(i=0;16>i;i++)y[i]=o(n,8*i+l);for(i=0;80>i;i++){for(f=0;8>f;f++)u[f]=c[f];for(t=I(c[7],D(c[4]),G(c[4],c[5],c[6]),Kn[i],y[i%16]),u[7]=I(t,X(c[0]),V(c[0],c[1],c[2])),u[3]=I(u[3],t),f=0;8>f;f++)c[(f+1)%8]=u[f];if(i%16===15)for(f=0;16>f;f++)y[f]=I(y[f],y[(f+9)%16],H(y[(f+1)%16]),J(y[(f+14)%16]))}for(i=0;8>i;i++)c[i]=I(c[i],w[i]),w[i]=c[i];l+=128,e-=128}for(i=0;8>i;i++)a(r,8*i,w[i]);return e}function W(r,n,e){var t,o=new Uint8Array(64),i=new Uint8Array(256),f=e;for(t=0;64>t;t++)o[t]=Ln[t];for(Q(o,n,e),e&=127,t=0;256>t;t++)i[t]=0;for(t=0;e>t;t++)i[t]=n[f-e+t];for(i[e]=128,e=256-128*(112>e?1:0),i[e-9]=0,a(i,e-8,new sn(0,f<<3)),Q(o,i,e),t=0;64>t;t++)r[t]=o[t];return 0}function $(r,n){var e=new gn,t=new gn,o=new gn,i=new gn,a=new gn,f=new gn,w=new gn,u=new gn,c=new gn;K(e,r[1],r[0]),K(c,n[1],n[0]),L(e,e,c),Y(t,r[0],r[1]),Y(c,n[0],n[1]),L(t,t,c),L(o,r[3],n[3]),L(o,o,dn),L(i,r[2],n[2]),Y(i,i,i),K(a,t,e),K(f,i,o),Y(w,i,o),Y(u,t,e),L(r[0],a,f),L(r[1],u,w),L(r[2],w,f),L(r[3],a,u)}function rn(r,n,e){var t;for(t=0;4>t;t++)x(r[t],n[t],e)}function nn(r,n){var e=new gn,t=new gn,o=new gn;k(o,n[2]),L(e,n[0],o),L(t,n[1],o),m(r,t),r[31]^=S(e)<<7}function en(r,n,e){var t,o;for(d(r[0],pn),d(r[1],An),d(r[2],An),d(r[3],pn),o=255;o>=0;--o)t=e[o/8|0]>>(7&o)&1,rn(r,n,t),$(n,r),$(r,r),rn(r,n,t)}function tn(r,n){var e=[new gn,new gn,new gn,new gn];d(e[0],En),d(e[1],xn),d(e[2],An),L(e[3],En,xn),en(r,e,n)}function on(r,e){var t,o=new Uint8Array(64),i=[new gn,new gn,new gn,new gn];for(n(e,32),W(o,e,32),o[0]&=248,o[31]&=127,o[31]|=64,tn(i,o),nn(r,i),t=0;32>t;t++)e[t+32]=r[t];return 0}function an(r,n){var e,t,o,i;for(t=63;t>=32;--t){for(e=0,o=t-32,i=t-12;i>o;++o)n[o]+=e-16*n[t]*Cn[o-(t-32)],e=n[o]+128>>8,n[o]-=256*e;n[o]+=e,n[t]=0}for(e=0,o=0;32>o;o++)n[o]+=e-(n[31]>>4)*Cn[o],e=n[o]>>8,n[o]&=255;for(o=0;32>o;o++)n[o]-=e*Cn[o];for(t=0;32>t;t++)n[t+1]+=n[t]>>8,r[t]=255&n[t]}function fn(r){var n,e=new Float64Array(64);for(n=0;64>n;n++)e[n]=r[n];for(n=0;64>n;n++)r[n]=0;an(r,e)}function wn(r,n,e,t){var o,i,a=new Uint8Array(64),f=new Uint8Array(64),w=new Uint8Array(64),u=new Float64Array(64),c=[new gn,new gn,new gn,new gn];W(a,t,32),a[0]&=248,a[31]&=127,a[31]|=64;var y=e+64;for(o=0;e>o;o++)r[64+o]=n[o];for(o=0;32>o;o++)r[32+o]=a[32+o];for(W(w,r.subarray(32),e+32),fn(w),tn(c,w),nn(r,c),o=32;64>o;o++)r[o]=t[o];for(W(f,r,e+64),fn(f),o=0;64>o;o++)u[o]=0;for(o=0;32>o;o++)u[o]=w[o];for(o=0;32>o;o++)for(i=0;32>i;i++)u[o+i]+=f[o]*a[i];return an(r.subarray(32),u),y}function un(r,n){var e=new gn,t=new gn,o=new gn,i=new gn,a=new gn,f=new gn,w=new gn;return d(r[2],An),T(r[1],n),C(o,r[1]),L(i,o,Un),K(o,o,r[2]),Y(i,r[2],i),C(a,i),C(f,a),L(w,f,a),L(e,w,o),L(e,e,i),R(e,e),L(e,e,o),L(e,e,i),L(e,e,i),L(r[0],e,i),C(t,r[0]),L(t,t,i),B(t,o)&&L(r[0],r[0],mn),C(t,r[0]),L(t,t,i),B(t,o)?-1:(S(r[0])===n[31]>>7&&K(r[0],pn,r[0]),L(r[3],r[0],r[1]),0)}function cn(r,n,e,t){var o,i=new Uint8Array(32),a=new Uint8Array(64),f=[new gn,new gn,new gn,new gn],w=[new gn,new gn,new gn,new gn];if(64>e)return-1;if(un(w,t))return-1;for(o=0;e>o;o++)r[o]=n[o];for(o=0;32>o;o++)r[o+32]=t[o];if(W(a,r,e),fn(a),en(f,w,a),tn(w,n.subarray(32)),$(f,w),nn(i,f),e-=64,u(n,0,i,0)){for(o=0;e>o;o++)r[o]=0;return-1}for(o=0;e>o;o++)r[o]=n[o+64];return 0}function yn(r,n){if(r.length!==kn)throw new Error("bad key size");if(n.length!==Rn)throw new Error("bad nonce size")}function ln(r,n){if(r.length!==Nn)throw new Error("bad public key size");if(n.length!==Mn)throw new Error("bad secret key size")}function hn(){for(var r,n={}.toString,e=0;e<arguments.length;e++)if("[object Uint8Array]"!==(r=n.call(arguments[e])))throw new TypeError("unexpected type "+r+", use Uint8Array")}var sn=function(r,n){this.hi=0|r,this.lo=0|n},gn=function(){return new Float64Array(16)},bn=new Uint8Array(16),vn=new Uint8Array(32);vn[0]=9;var pn=new gn,An=new gn;An[0]=1;var _n=new gn;_n[0]=56129,_n[1]=1;var Un=[30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995],dn=[61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222],En=[54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553],xn=[26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214],mn=[41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139],Bn=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),Sn=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]),Tn=_,Yn=U,Kn=[new sn(1116352408,3609767458),new sn(1899447441,602891725),new sn(3049323471,3964484399),new sn(3921009573,2173295548),new sn(961987163,4081628472),new sn(1508970993,3053834265),new sn(2453635748,2937671579),new sn(2870763221,3664609560),new sn(3624381080,2734883394),new sn(310598401,1164996542),new sn(607225278,1323610764),new sn(1426881987,3590304994),new sn(1925078388,4068182383),new sn(2162078206,991336113),new sn(2614888103,633803317),new sn(3248222580,3479774868),new sn(3835390401,2666613458),new sn(4022224774,944711139),new sn(264347078,2341262773),new sn(604807628,2007800933),new sn(770255983,1495990901),new sn(1249150122,1856431235),new sn(1555081692,3175218132),new sn(1996064986,2198950837),new sn(2554220882,3999719339),new sn(2821834349,766784016),new sn(2952996808,2566594879),new sn(3210313671,3203337956),new sn(3336571891,1034457026),new sn(3584528711,2466948901),new sn(113926993,3758326383),new sn(338241895,168717936),new sn(666307205,1188179964),new sn(773529912,1546045734),new sn(1294757372,1522805485),new sn(1396182291,2643833823),new sn(1695183700,2343527390),new sn(1986661051,1014477480),new sn(2177026350,1206759142),new sn(2456956037,344077627),new sn(2730485921,1290863460),new sn(2820302411,3158454273),new sn(3259730800,3505952657),new sn(3345764771,106217008),new sn(3516065817,3606008344),new sn(3600352804,1432725776),new sn(4094571909,1467031594),new sn(275423344,851169720),new sn(430227734,3100823752),new sn(506948616,1363258195),new sn(659060556,3750685593),new sn(883997877,3785050280),new sn(958139571,3318307427),new sn(1322822218,3812723403),new sn(1537002063,2003034995),new sn(1747873779,3602036899),new sn(1955562222,1575990012),new sn(2024104815,1125592928),new sn(2227730452,2716904306),new sn(2361852424,442776044),new sn(2428436474,593698344),new sn(2756734187,3733110249),new sn(3204031479,2999351573),new sn(3329325298,3815920427),new sn(3391569614,3928383900),new sn(3515267271,566280711),new sn(3940187606,3454069534),new sn(4118630271,4000239992),new sn(116418474,1914138554),new sn(174292421,2731055270),new sn(289380356,3203993006),new sn(460393269,320620315),new sn(685471733,587496836),new sn(852142971,1086792851),new sn(1017036298,365543100),new sn(1126000580,2618297676),new sn(1288033470,3409855158),new sn(1501505948,4234509866),new sn(1607167915,987167468),new sn(1816402316,1246189591)],Ln=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]),Cn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),kn=32,Rn=24,zn=32,Fn=16,On=32,Pn=32,Nn=32,Mn=32,In=32,Zn=Rn,jn=zn,qn=Fn,Gn=64,Vn=32,Xn=64,Dn=64;r.lowlevel={crypto_stream_xor:b,crypto_stream:g,crypto_stream_salsa20_xor:h,crypto_stream_salsa20:s,crypto_onetimeauth:p,crypto_onetimeauth_verify:A,crypto_verify_16:w,crypto_verify_32:u,crypto_secretbox:_,crypto_secretbox_open:U,crypto_scalarmult:z,crypto_scalarmult_base:F,crypto_box_beforenm:P,crypto_box_afternm:Tn,crypto_box:N,crypto_box_open:M,crypto_box_keypair:O,crypto_hash:W,crypto_hashblocks:Q,crypto_sign:wn,crypto_sign_keypair:on,crypto_sign_open:cn,crypto_randombytes:n,crypto_secretbox_KEYBYTES:kn,crypto_secretbox_NONCEBYTES:Rn,crypto_secretbox_ZEROBYTES:zn,crypto_secretbox_BOXZEROBYTES:Fn,crypto_scalarmult_BYTES:On,crypto_scalarmult_SCALARBYTES:Pn,crypto_box_PUBLICKEYBYTES:Nn,crypto_box_SECRETKEYBYTES:Mn,crypto_box_BEFORENMBYTES:In,crypto_box_NONCEBYTES:Zn,crypto_box_ZEROBYTES:jn,crypto_box_BOXZEROBYTES:qn,crypto_sign_BYTES:Gn,crypto_sign_PUBLICKEYBYTES:Vn,crypto_sign_SECRETKEYBYTES:Xn,crypto_hash_BYTES:Dn},r.util={},r.util.decodeUTF8=function(r){var n,e=unescape(encodeURIComponent(r)),t=new Uint8Array(e.length);for(n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},r.util.encodeUTF8=function(r){var n,e=[];for(n=0;n<r.length;n++)e.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(e.join("")))},r.util.encodeBase64=function(r){if("undefined"==typeof btoa)return new Buffer(r).toString("base64");var n,e=[],t=r.length;for(n=0;t>n;n++)e.push(String.fromCharCode(r[n]));return btoa(e.join(""))},r.util.decodeBase64=function(r){if("undefined"==typeof atob)return new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0));var n,e=atob(r),t=new Uint8Array(e.length);for(n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},r.randomBytes=function(r){var e=new Uint8Array(r);return n(e,r),e},r.secretbox=function(r,n,e){hn(r,n,e),yn(e,n);for(var t=new Uint8Array(zn+r.length),o=new Uint8Array(t.length),i=0;i<r.length;i++)t[i+zn]=r[i];return _(o,t,t.length,n,e),o.subarray(Fn)},r.secretbox.open=function(r,n,e){hn(r,n,e),yn(e,n);for(var t=new Uint8Array(Fn+r.length),o=new Uint8Array(t.length),i=0;i<r.length;i++)t[i+Fn]=r[i];return t.length<32?!1:0!==U(o,t,t.length,n,e)?!1:o.subarray(zn)},r.secretbox.keyLength=kn,r.secretbox.nonceLength=Rn,r.secretbox.overheadLength=Fn,r.scalarMult=function(r,n){if(hn(r,n),r.length!==Pn)throw new Error("bad n size");if(n.length!==On)throw new Error("bad p size");var e=new Uint8Array(On);return z(e,r,n),e},r.scalarMult.base=function(r){if(hn(r),r.length!==Pn)throw new Error("bad n size");var n=new Uint8Array(On);return F(n,r),n},r.scalarMult.scalarLength=Pn,r.scalarMult.groupElementLength=On,r.box=function(n,e,t,o){var i=r.box.before(t,o);return r.secretbox(n,e,i)},r.box.before=function(r,n){hn(r,n),ln(r,n);var e=new Uint8Array(In);return P(e,r,n),e},r.box.after=r.secretbox,r.box.open=function(n,e,t,o){var i=r.box.before(t,o);return r.secretbox.open(n,e,i)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(Nn),n=new Uint8Array(Mn);return O(r,n),{publicKey:r,secretKey:n}},r.box.keyPair.fromSecretKey=function(r){if(hn(r),r.length!==Mn)throw new Error("bad secret key size");var n=new Uint8Array(Nn);return F(n,r),{publicKey:n,secretKey:r}},r.box.publicKeyLength=Nn,r.box.secretKeyLength=Mn,r.box.sharedKeyLength=In,r.box.nonceLength=Zn,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,n){if(hn(r,n),n.length!==Xn)throw new Error("bad secret key size");var e=new Uint8Array(Gn+r.length);wn(e,r,r.length,n);for(var t=new Uint8Array(Gn),o=0;o<t.length;o++)t[o]=e[o];return t},r.sign.open=function(r,n,e){if(hn(r,n,e),n.length!==Gn)throw new Error("bad signature size");if(e.length!==Vn)throw new Error("bad public key size");var t,o=new Uint8Array(Gn+r.length),i=new Uint8Array(Gn+r.length);for(t=0;Gn>t;t++)o[t]=n[t];for(t=0;t<r.length;t++)o[t+Gn]=r[t];return 0!==cn(i,o,o.length,e)?!1:i.subarray(Gn)},r.sign.keyPair=function(){var r=new Uint8Array(Vn),n=new Uint8Array(Xn);return on(r,n),{publicKey:r,secretKey:n}},r.sign.keyPair.fromSecretKey=function(r){if(hn(r),r.length!==Xn)throw new Error("bad secret key size");var n,e=new Uint8Array(Vn);for(n=0;32>n;n++)e[n]=r[32+n];return{publicKey:e,secretKey:r}},r.sign.publicKeyLength=Vn,r.sign.secretKeyLength=Xn,r.sign.signatureLength=Gn,r.hash=function(r){hn(r);var n=new Uint8Array(Dn);return W(n,r,r.length),n},r.hash.hashLength=Dn,r.verify=function(r,n){return hn(r,n),0===r.length||0===n.length?!1:r.length!==n.length?!1:0===f(r,0,n,0,r.length)?!0:!1}}("undefined"!=typeof exports?exports:window.nacl=window.nacl||{});